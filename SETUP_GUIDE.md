# РУКОВОДСТВО ПО УСТАНОВКЕ И ЗАПУСКУ БОТА

## Быстрый старт для пользователей без опыта программирования

### Шаг 1: Установка Python

1. Скачайте Python 3.8 или выше с [python.org](https://www.python.org/downloads/)
2. При установке **ОБЯЗАТЕЛЬНО** поставьте галочку "Add Python to PATH"
3. Проверьте установку: откройте командную строку (cmd на Windows) и введите:
   ```bash
   python --version
   ```
   Должна появиться версия Python (например, Python 3.11.0)

### Шаг 2: Создание бота в Telegram

1. Откройте Telegram и найдите [@BotFather](https://t.me/BotFather)
2. Отправьте команду `/newbot`
3. Следуйте инструкциям:
   - Введите имя бота (например, "PKEU Schedule Bot")
   - Введите username бота (должен заканчиваться на "bot", например, "pkeu_schedule_bot")
4. BotFather даст вам **токен** - сохраните его! Он выглядит примерно так:
   ```
   1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   ```

### Шаг 3: Получение вашего Telegram ID

1. Найдите в Telegram бота [@userinfobot](https://t.me/userinfobot)
2. Отправьте ему любое сообщение
3. Он пришлет ваш ID (число, например: 123456789)

### Шаг 4: Скачивание кода бота

1. Нажмите зеленую кнопку **Code** на GitHub
2. Выберите **Download ZIP**
3. Распакуйте архив в любую папку (например, `C:\tgbot`)

### Шаг 5: Настройка бота

1. Откройте папку с ботом
2. Найдите файл `.env.example`
3. Скопируйте его и переименуйте копию в `.env` (без .example)
4. Откройте файл `.env` в Блокноте (или любом текстовом редакторе)
5. Замените:
   ```
   API_TOKEN=your_bot_token_here
   ADMIN_ID=your_admin_id_here
   ```
   На ваши данные:
   ```
   API_TOKEN=1234567890:ABCdefGHIjklMNOpqrsTUVwxyz
   ADMIN_ID=123456789
   ```
6. Сохраните файл

### Шаг 6: Установка зависимостей

1. Откройте командную строку (cmd)
2. Перейдите в папку с ботом:
   ```bash
   cd C:\tgbot
   ```
   (замените на путь к вашей папке)
3. Создайте виртуальное окружение:
   ```bash
   python -m venv venv
   ```
4. Активируйте его:
   - На Windows:
     ```bash
     venv\Scripts\activate
     ```
   - На Mac/Linux:
     ```bash
     source venv/bin/activate
     ```
5. Установите библиотеки:
   ```bash
   pip install -r requirements.txt
   ```
   Подождите, пока все установится (может занять 1-2 минуты)

### Шаг 7: Запуск бота

1. В командной строке (с активированным виртуальным окружением) введите:
   ```bash
   python main.py
   ```
2. Вы должны увидеть сообщения:
   ```
   INFO - Database initialized.
   INFO - Command handlers registered.
   INFO - Scheduler has been started.
   INFO - Bot is starting polling...
   ```
3. Готово! Бот запущен и работает!

### Шаг 8: Проверка работы

1. Откройте Telegram
2. Найдите вашего бота по username (тот, что вы указали при создании)
3. Отправьте команду `/start`
4. Следуйте инструкциям бота для выбора группы

## Остановка бота

Чтобы остановить бота, нажмите `Ctrl+C` в командной строке.

## Запуск бота при старте компьютера (Windows)

1. Создайте файл `start_bot.bat` в папке с ботом
2. Добавьте в него:
   ```batch
   @echo off
   cd /d %~dp0
   call venv\Scripts\activate
   python main.py
   pause
   ```
3. Сохраните файл
4. Теперь можно запускать бота двойным кликом по этому файлу
5. Для автозапуска добавьте ярлык этого файла в папку автозагрузки Windows:
   - Нажмите `Win+R`
   - Введите `shell:startup`
   - Скопируйте туда ярлык `start_bot.bat`

## Решение проблем

### "python" не является внутренней или внешней командой

**Решение:** Python не установлен или не добавлен в PATH. Переустановите Python с галочкой "Add to PATH".

### ModuleNotFoundError: No module named '...'

**Решение:** Не установлены зависимости. Выполните:
```bash
pip install -r requirements.txt
```

### Бот не отвечает в Telegram

**Проверьте:**
1. Правильно ли указан токен в файле `.env`
2. Запущен ли бот (должна быть открыта командная строка с сообщениями)
3. Есть ли интернет-соединение

### Бот запускается, но сразу останавливается

**Возможные причины:**
1. Неправильный токен - проверьте файл `.env`
2. Токен уже используется другой копией бота - остановите все копии
3. Ошибка в логах - прочитайте сообщения в консоли

## Обновление расписания

Бот автоматически проверяет новое расписание на сайте PKEU каждые 20 минут. Никаких дополнительных действий не требуется!

## Полезные команды

- `python main.py` - запустить бота
- `pip list` - посмотреть установленные библиотеки
- `pip install --upgrade -r requirements.txt` - обновить библиотеки

## Контакты для поддержки

Если возникли проблемы, создайте issue в репозитории GitHub.
